<div class="setting_panel panel-default">
	<div class="panel-heading text-left">
		<div class="setting_nav">
			<ul>
				<li><a href="">客户预收</a></li>
			</ul>
		</div>
    </div>
	<div class="search-filter-box">
		<div>
			<label>时间<span>:</span></label>
            <span class="input-group-addon date_check_main" title="点击选择更多" tabindex="0" onblur="dateRangeUtil.hideDateSelect()"
				 ng-click="dateRange.chooseDate($event)" > 日期 </span>
            <input id="start_date" autocomplete="off"  type="text" class="Wdate" style="margin-left:-4px;"
                onFocus="WdatePicker({onpicked: function (dp) { angular.element(this).scope().changeDate(); },dateFmt:'yyyy-MM-dd',lang:'zh-cn'})"
                />
            <input id="end_date" autocomplete="off"  type="text" class="Wdate" style="border-top-left-radius: 0; border-bottom-left-radius: 0;"
                onFocus="WdatePicker({onpicked: function (dp) { angular.element(this).scope().changeDate(); },dateFmt:'yyyy-MM-dd',lang:'zh-cn'})"
				/>
        </div>
        <div>
            <label>会员名<span>:</span></label>
            <input type="text" placeholder="会员名" ng-model="searchParam.memberNameSearchKey">
            <label>会员手机<span>:</span></label>
            <input type="text" placeholder="会员手机" ng-model="searchParam.memberMobileSearchKey">
            
        </div>
		<div>
			<a class="btn btn-success" style="margin-left:80px;"  ng-click="doSearch();" ><i class="glyphicon glyphicon-filter"></i> 筛选</a>
			<a class="btn btn-default" ng-click="clearParams();" style="text-shadow: none !important; color: #333 !important;"><i class="icon icon-eraser"></i> 清空</a>
			<a class="btn btn-success" style="margin-left:80px;"  ng-click="doExport();" >导出数据</a>
		</div>
	</div>
	<div class="panel-body">
		<div class="row">
			<div class="col-sm-12">
				<div class="panel panel-default"
					style="border: 0; border-radius: 0;">
					<div class="panel-heading f14"
						style="background-color: #fff; border: 1px solid #ddd; border-bottom: 0; border-radius: 0;">
						<i class="icon icon-list"></i> 共{{pager.total}}条记录
					</div>

					<table class="table table3 table-bordered table-hover user_table">
						<thead>
							<tr>
								<th>序号</th>
								<th>客户名</th>
								<!-- <th>水票编码</th> -->
								<th>商品</th>
								<th>期初余额</th>
								<th>本期增加</th>
								<th>本期减少</th>
															
								<th>本期余额</th>								
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="x in orderList">
								<td class="text-center f14">{{pager.rows * (pager.page -
									1)+ $index+1}}</td>
                                <td class="text-center f14">{{x.memberid_nameref}}</td>
								<td class="text-center f14">{{x.productid_nameref}}</td>
								
								<td class="text-center f14">
									<zk-format-num ng-model="x.tsl_left_amount"></zk-format-num>
								</td>
								<td class="text-center f14" ng-click="goTicketList(1,x)">
									<zk-format-num ng-model="x.ticketAddAmount"></zk-format-num>
								</td>
								<td class="text-center f14" ng-click="goTicketList(2,x)">
									<zk-format-num ng-model="x.ticketUseAmount"></zk-format-num>
								</td>
								
								<td class="text-center f14" ng-if="searchParam.endDate=='' || searchParam.endDate>=dateNow">
									<zk-format-num ng-model="x.ticketLeftAmount"></zk-format-num>
								</td>
								<td class="text-center f14" ng-if="!(searchParam.endDate=='' || searchParam.endDate>=dateNow)">
									<zk-format-num ng-model="x.tsl_left_amount_end"></zk-format-num>
								</td>
							</tr>
						</tbody>
					</table>
					<tm-pagination conf="pager" search-param="searchParam"></tm-pagination>
				</div>
			</div>
		</div>
	</div>
</div>
